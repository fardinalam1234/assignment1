<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title>Spam Detector - Results</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">

  <meta name="theme-color" content="#fafafa">
</head>

<body>

<h1>Spam Detector - Results</h1>

<table>
  <thead>
  <tr>
    <th>Filename</th>
    <th>Spam Detector's Categorization</th>
    <th>Actual Category</th>
  </tr>
  </thead>
  <tbody>
  <!-- Populate table rows with results from training/testing -->
  </tbody>
</table>

<div>
  <h2>Summary Stats</h2>
  <p>Percentage of Correct Guesses (Accuracy): <span id="accuracy"></span></p>
  <p>Ratio of Correct Positives (Spam) to Spam Guesses (Correct or Not) (Precision): <span id="precision"></span></p>
</div>

<script src="js/vendor/modernizr-3.11.2.min.js"></script>
<script src="js/plugins.js"></script>
<script src="js/main.js"></script>

<script>
  // Fetch accuracy and precision from API endpoints and display on page
  const accuracySpan = document.querySelector("#accuracy");
  const precisionSpan = document.querySelector("#precision");

  fetch("http://localhost:8080/spamDetector-1.0/api/spam/accuracy")
    .then(response => response.json())
    .then(data => {
      accuracySpan.textContent = data.accuracy;
    })
    .catch(error => console.error(error));

  fetch("http://localhost:8080/spamDetector-1.0/api/spam/precision")
    .then(response => response.json())
    .then(data => {
      precisionSpan.textContent = data.precision;
    })
    .catch(error => console.error(error));
</script>

<!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
<script>
  window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
  ga('create', 'UA-XXXXX-Y', 'auto'); ga('set', 'anonymizeIp', true); ga('set', 'transport', 'beacon'); ga('send', 'pageview')
</script>
<script src="https://www.google-analytics.com/analytics.js" async></script>
</body>

</html>
